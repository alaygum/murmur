<html lang="ru">                                                                                                      
  <head>                                                                                                                
      <meta charset="UTF-8">                                                                                            
      <meta name="viewport" content="width=device-width, initial-scale=1.0">                                            
      <title>–ú—É—Ä–º—É—Ä</title>                                                                                             
      <style>                                                                                                           
          * {                                                                                                           
              margin: 0;                                                                                                
              padding: 0;                                                                                               
              box-sizing: border-box;                                                                                   
          }                                                                                                             
                                                                                                                        
          body {                                                                                                        
              font-family: 'Futura', 'Century Gothic', 'Arial', sans-serif;                                             
              min-height: 100vh;                                                                                        
              display: flex;                                                                                            
              justify-content: center;                                                                                  
              align-items: center;                                                                                      
              background: linear-gradient(135deg, #f0f8ff 0%, #e6f3ff 50%, #d4ecff 100%);                               
              overflow: hidden;                                                                                         
          }                                                                                                             
                                                                                                                        
          .container {                                                                                                  
              text-align: center;                                                                                       
              padding: 20px;                                                                                            
              max-width: 600px;                                                                                         
              width: 100%;                                                                                              
          }                                                                                                             
                                                                                                                        
          h1 {                                                                                                          
              font-size: clamp(1.8rem, 5vw, 2.5rem);                                                                    
              color: #3a7bd5;                                                                                           
              margin-bottom: 30px;                                                                                      
              font-weight: 600;                                                                                         
              letter-spacing: 0.02em;                                                                                   
          }                                                                                                             
                                                                                                                        
          .gif-container {                                                                                              
              margin-bottom: 30px;                                                                                      
          }                                                                                                             
                                                                                                                        
          .gif-container img {                                                                                          
              max-width: 300px;                                                                                         
              width: 100%;                                                                                              
              height: auto;                                                                                             
              border-radius: 16px;                                                                                      
              box-shadow: 0 8px 32px rgba(58, 123, 213, 0.15);                                                          
          }                                                                                                             
                                                                                                                        
          .stage {                                                                                                      
              position: relative;                                                                                       
              width: 100%;                                                                                              
              min-height: 120px;                                                                                        
              display: flex;                                                                                            
              justify-content: center;                                                                                  
              align-items: flex-start;                                                                                  
              padding: 20px;                                                                                            
          }                                                                                                             
                                                                                                                        
          .buttons-wrapper {                                                                                            
              display: flex;                                                                                            
              gap: 16px;                                                                                                
              align-items: center;                                                                                      
              justify-content: center;                                                                                  
          }                                                                                                             
                                                                                                                        
          .btn {                                                                                                        
              padding: 14px 40px;                                                                                       
              font-size: 1.1rem;                                                                                        
              font-family: inherit;                                                                                     
              border: none;                                                                                             
              border-radius: 12px;                                                                                      
              cursor: pointer;                                                                                          
              font-weight: 500;                                                                                         
              transition: transform 0.2s ease, box-shadow 0.2s ease;                                                    
              min-width: 120px;                                                                                         
              height: 52px;                                                                                             
          }                                                                                                             
                                                                                                                        
          .btn-yes {                                                                                                    
              background: linear-gradient(135deg, #6dd5ed 0%, #2193b0 100%);                                            
              color: white;                                                                                             
              box-shadow: 0 4px 20px rgba(33, 147, 176, 0.4);                                                           
          }                                                                                                             
                                                                                                                        
          .btn-yes:hover {                                                                                              
              transform: scale(1.08);                                                                                   
              box-shadow: 0 6px 28px rgba(33, 147, 176, 0.55);                                                          
          }                                                                                                             
                                                                                                                        
          .btn-yes:active {                                                                                             
              transform: scale(1.04);                                                                                   
          }                                                                                                             
                                                                                                                        
          .btn-no {                                                                                                     
              position: absolute;                                                                                       
              background: linear-gradient(135deg, #f5f7fa 0%, #e4e8ec 100%);                                            
              color: #666;                                                                                              
              box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);                                                                
              user-select: none;                                                                                        
              pointer-events: auto;                                                                                     
          }                                                                                                             
                                                                                                                        
          .screen {                                                                                                     
              display: none;                                                                                            
          }                                                                                                             
                                                                                                                        
          .screen.active {                                                                                              
              display: block;                                                                                           
          }                                                                                                             
                                                                                                                        
          .success-text {                                                                                               
              font-size: clamp(1.5rem, 4vw, 2rem);                                                                      
              color: #3a7bd5;                                                                                           
              margin-bottom: 30px;                                                                                      
              line-height: 1.5;                                                                                         
          }                                                                                                             
                                                                                                                        
          .success-text span {                                                                                          
              display: block;                                                                                           
          }                                                                                                             
                                                                                                                        
          .success-text .ura {                                                                                          
              font-size: clamp(2rem, 5vw, 2.8rem);                                                                      
              margin-bottom: 10px;                                                                                      
          }                                                                                                             
                                                                                                                        
          .puk {                                                                                                        
              position: absolute;                                                                                       
              font-size: 24px;                                                                                          
              pointer-events: none;                                                                                     
              z-index: 100;                                                                                             
              opacity: 0;                                                                                               
          }                                                                                                             
                                                                                                                        
          .puk.animate {                                                                                                
              animation: pukAnim 0.5s ease-out forwards;                                                                
          }                                                                                                             
                                                                                                                        
          @keyframes pukAnim {                                                                                          
              0% {                                                                                                      
                  opacity: 1;                                                                                           
                  transform: translate(0, 0) scale(1);                                                                  
              }                                                                                                         
              100% {                                                                                                    
                  opacity: 0;                                                                                           
                  transform: translate(var(--puk-x), var(--puk-y)) scale(0.5);                                          
              }                                                                                                         
          }                                                                                                             
                                                                                                                        
          .confetti {                                                                                                   
              position: fixed;                                                                                          
              width: 10px;                                                                                              
              height: 10px;                                                                                             
              pointer-events: none;                                                                                     
              z-index: 1000;                                                                                            
          }                                                                                                             
                                                                                                                        
          @media (prefers-reduced-motion: reduce) {                                                                     
              .confetti {                                                                                               
                  display: none !important;                                                                             
              }                                                                                                         
              .btn-yes:hover {                                                                                          
                  transform: none;                                                                                      
              }                                                                                                         
          }                                                                                                             
      </style>                                                                                                          
  </head>                                                                                                               
  <body>                                                                                                                
      <div class="container">                                                                                           
          <div id="askScreen" class="screen active">                                                                    
              <h1>–¢—ã –±—É–¥–µ—à—å –º–æ–∏–º –ú—É—Ä–º—É—Ä–æ–º?</h1>                                                                         
              <div class="gif-container">                                                                               
                  <img src="ask.gif" alt="–ú–∏–ª—ã–π –∫–æ—Ç–∏–∫">                                                                 
              </div>                                                                                                    
              <div class="stage" id="stage">                                                                            
                  <div class="buttons-wrapper">                                                                         
                      <button class="btn btn-yes" id="btnYes">–î–∞</button>                                               
                  </div>                                                                                                
                  <button class="btn btn-no" id="btnNo" aria-disabled="true" tabindex="-1">–ù–µ—Ç</button>                 
              </div>                                                                                                    
          </div>                                                                                                        
                                                                                                                        
          <div id="successScreen" class="screen">                                                                       
              <div class="success-text">                                                                                
                  <span class="ura">–£—Ä–∞!</span>                                                                         
                  <span>–ú–æ–π –ª—é–±–∏–º—ã–π –ª–∞—Å–∫–æ–≤—ã–π –ú—É—Ä–º—É—Ä!</span>                                                             
              </div>                                                                                                    
              <div class="gif-container">                                                                               
                  <img src="celebrate.gif" alt="–ü—Ä–∞–∑–¥–Ω–æ–≤–∞–Ω–∏–µ">                                                          
              </div>                                                                                                    
          </div>                                                                                                        
      </div>                                                                                                            
                                                                                                                        
      <script>                                                                                                          
          (function() {                                                                                                 
              const SAFE_DIST = 80;                                                                                     
              const STEP = 50;                                                                                          
              const HISTORY_SIZE = 5;                                                                                   
              const YES_PADDING = 30;                                                                                   
              const CANDIDATES = 8;                                                                                     
                                                                                                                        
              const stage = document.getElementById('stage');                                                           
              const btnYes = document.getElementById('btnYes');                                                         
              const btnNo = document.getElementById('btnNo');                                                           
              const askScreen = document.getElementById('askScreen');                                                   
              const successScreen = document.getElementById('successScreen');                                           
                                                                                                                        
              let positionHistory = [];                                                                                 
              let noPos = { x: 0, y: 0 };                                                                               
              let isInitialized = false;                                                                                
                                                                                                                        
              function initNoPosition() {                                                                               
                  const stageRect = stage.getBoundingClientRect();                                                      
                  const yesRect = btnYes.getBoundingClientRect();                                                       
                  const noRect = btnNo.getBoundingClientRect();                                                         
                                                                                                                        
                  const initialX = (yesRect.right - stageRect.left) + 16;                                               
                  const initialY = (yesRect.top - stageRect.top) + (yesRect.height / 2) - (noRect.height / 2);          
                                                                                                                        
                  noPos = { x: initialX, y: initialY };                                                                 
                  applyPosition();                                                                                      
                  isInitialized = true;                                                                                 
              }                                                                                                         
                                                                                                                        
              function applyPosition() {                                                                                
                  btnNo.style.left = noPos.x + 'px';                                                                    
                  btnNo.style.top = noPos.y + 'px';                                                                     
              }                                                                                                         
                                                                                                                        
              function getYesForbiddenZone() {                                                                          
                  const stageRect = stage.getBoundingClientRect();                                                      
                  const yesRect = btnYes.getBoundingClientRect();                                                       
                  return {                                                                                              
                      left: (yesRect.left - stageRect.left) - YES_PADDING,                                              
                      right: (yesRect.right - stageRect.left) + YES_PADDING,                                            
                      top: (yesRect.top - stageRect.top) - YES_PADDING,                                                 
                      bottom: (yesRect.bottom - stageRect.top) + YES_PADDING                                            
                  };                                                                                                    
              }                                                                                                         
                                                                                                                        
              function isInYesZone(x, y, btnWidth, btnHeight) {                                                         
                  const zone = getYesForbiddenZone();                                                                   
                  const btnRight = x + btnWidth;                                                                        
                  const btnBottom = y + btnHeight;                                                                      
                  return !(x > zone.right || btnRight < zone.left || y > zone.bottom || btnBottom < zone.top);          
              }                                                                                                         
                                                                                                                        
              function isValidPosition(x, y, btnWidth, btnHeight) {                                                     
                  const stageRect = stage.getBoundingClientRect();                                                      
                  const maxX = stageRect.width - btnWidth - 10;                                                         
                  const maxY = stageRect.height - btnHeight - 10;                                                       
                                                                                                                        
                  if (x < 10 || x > maxX || y < 10 || y > maxY) return false;                                           
                  if (isInYesZone(x, y, btnWidth, btnHeight)) return false;                                             
                                                                                                                        
                  return true;                                                                                          
              }                                                                                                         
                                                                                                                        
              function isTooCloseToHistory(x, y) {                                                                      
                  for (const pos of positionHistory) {                                                                  
                      const dist = Math.sqrt((x - pos.x) ** 2 + (y - pos.y) ** 2);                                      
                      if (dist < STEP * 0.6) return true;                                                               
                  }                                                                                                     
                  return false;                                                                                         
              }                                                                                                         
                                                                                                                        
              function addToHistory(x, y) {                                                                             
                  positionHistory.push({ x, y });                                                                       
                  if (positionHistory.length > HISTORY_SIZE) {                                                          
                      positionHistory.shift();                                                                          
                  }                                                                                                     
              }                                                                                                         
                                                                                                                        
              function createPuk(oldX, oldY, newX, newY) {                                                              
                  const dx = newX - oldX;                                                                               
                  const dy = newY - oldY;                                                                               
                                                                                                                        
                  const pukDx = -dx * 0.8;                                                                              
                  const pukDy = -dy * 0.8;                                                                              
                                                                                                                        
                  const puk = document.createElement('div');                                                            
                  puk.className = 'puk';                                                                                
                  puk.textContent = 'üí®';                                                                               
                                                                                                                        
                  const angle = Math.atan2(-dy, -dx) * (180 / Math.PI);                                                 
                  puk.style.transform = `rotate(${angle - 180}deg)`;                                                    
                                                                                                                        
                  puk.style.setProperty('--puk-x', pukDx + 'px');                                                       
                  puk.style.setProperty('--puk-y', pukDy + 'px');                                                       
                                                                                                                        
                  const noRect = btnNo.getBoundingClientRect();                                                         
                  const stageRect = stage.getBoundingClientRect();                                                      
                                                                                                                        
                  puk.style.left = (noRect.left - stageRect.left + noRect.width / 2) + 'px';                            
                  puk.style.top = (noRect.top - stageRect.top + noRect.height / 2) + 'px';                              
                                                                                                                        
                  stage.appendChild(puk);                                                                               
                                                                                                                        
                  requestAnimationFrame(() => {                                                                         
                      puk.classList.add('animate');                                                                     
                  });                                                                                                   
                                                                                                                        
                  setTimeout(() => {                                                                                    
                      puk.remove();                                                                                     
                  }, 500);                                                                                              
              }                                                                                                         
                                                                                                                        
              function moveAway(cursorX, cursorY) {                                                                     
                  const stageRect = stage.getBoundingClientRect();                                                      
                  const noRect = btnNo.getBoundingClientRect();                                                         
                                                                                                                        
                  const noCenterX = noPos.x + noRect.width / 2;                                                         
                  const noCenterY = noPos.y + noRect.height / 2;                                                        
                  const cursorRelX = cursorX - stageRect.left;                                                          
                  const cursorRelY = cursorY - stageRect.top;                                                           
                                                                                                                        
                  let dx = noCenterX - cursorRelX;                                                                      
                  let dy = noCenterY - cursorRelY;                                                                      
                  const dist = Math.sqrt(dx * dx + dy * dy);                                                            
                                                                                                                        
                  if (dist === 0) {                                                                                     
                      dx = 1;                                                                                           
                      dy = 0;                                                                                           
                  } else {                                                                                              
                      dx /= dist;                                                                                       
                      dy /= dist;                                                                                       
                  }                                                                                                     
                                                                                                                        
                  let bestCandidate = null;                                                                             
                  let bestScore = -Infinity;                                                                            
                                                                                                                        
                  for (let i = 0; i < CANDIDATES; i++) {                                                                
                      const angleOffset = (Math.random() - 0.5) * Math.PI * 0.8;                                        
                      const cos = Math.cos(angleOffset);                                                                
                      const sin = Math.sin(angleOffset);                                                                
                      const newDx = dx * cos - dy * sin;                                                                
                      const newDy = dx * sin + dy * cos;                                                                
                                                                                                                        
                      const stepSize = STEP + Math.random() * 20;                                                       
                      const candidateX = noPos.x + newDx * stepSize;                                                    
                      const candidateY = noPos.y + newDy * stepSize;                                                    
                                                                                                                        
                      if (!isValidPosition(candidateX, candidateY, noRect.width, noRect.height)) continue;              
                      if (isTooCloseToHistory(candidateX, candidateY)) continue;                                        
                                                                                                                        
                      const distFromCursor = Math.sqrt(                                                                 
                          (candidateX + noRect.width / 2 - cursorRelX) ** 2 +                                           
                          (candidateY + noRect.height / 2 - cursorRelY) ** 2                                            
                      );                                                                                                
                                                                                                                        
                      const historyPenalty = positionHistory.reduce((sum, pos) => {                                     
                          const d = Math.sqrt((candidateX - pos.x) ** 2 + (candidateY - pos.y) ** 2);                   
                          return sum + Math.max(0, STEP - d);                                                           
                      }, 0);                                                                                            
                                                                                                                        
                      const score = distFromCursor - historyPenalty * 0.5;                                              
                                                                                                                        
                      if (score > bestScore) {                                                                          
                          bestScore = score;                                                                            
                          bestCandidate = { x: candidateX, y: candidateY };                                             
                      }                                                                                                 
                  }                                                                                                     
                                                                                                                        
                  if (bestCandidate) {                                                                                  
                      const oldX = noPos.x;                                                                             
                      const oldY = noPos.y;                                                                             
                                                                                                                        
                      noPos = bestCandidate;                                                                            
                      addToHistory(noPos.x, noPos.y);                                                                   
                      applyPosition();                                                                                  
                                                                                                                        
                      createPuk(oldX, oldY, noPos.x, noPos.y);                                                          
                  }                                                                                                     
              }                                                                                                         
                                                                                                                        
              function checkDistance(e) {                                                                               
                  if (!isInitialized) return;                                                                           
                                                                                                                        
                  const noRect = btnNo.getBoundingClientRect();                                                         
                  const noCenterX = noRect.left + noRect.width / 2;                                                     
                  const noCenterY = noRect.top + noRect.height / 2;                                                     
                                                                                                                        
                  const dist = Math.sqrt(                                                                               
                      (e.clientX - noCenterX) ** 2 +                                                                    
                      (e.clientY - noCenterY) ** 2                                                                      
                  );                                                                                                    
                                                                                                                        
                  if (dist < SAFE_DIST) {                                                                               
                      moveAway(e.clientX, e.clientY);                                                                   
                  }                                                                                                     
              }                                                                                                         
                                                                                                                        
              document.addEventListener('mousemove', checkDistance);                                                    
              document.addEventListener('touchmove', (e) => {                                                           
                  if (e.touches.length > 0) {                                                                           
                      checkDistance({                                                                                   
                          clientX: e.touches[0].clientX,                                                                
                          clientY: e.touches[0].clientY                                                                 
                      });                                                                                               
                  }                                                                                                     
              });                                                                                                       
                                                                                                                        
              btnNo.addEventListener('mouseenter', (e) => {                                                             
                  moveAway(e.clientX, e.clientY);                                                                       
              });                                                                                                       
                                                                                                                        
              btnNo.addEventListener('click', (e) => {                                                                  
                  e.preventDefault();                                                                                   
                  moveAway(e.clientX, e.clientY);                                                                       
              });                                                                                                       
                                                                                                                        
              function createConfetti() {                                                                               
                  const colors = ['#6dd5ed', '#2193b0', '#ff6b6b', '#ffd93d', '#6bcb77', '#4d96ff'];                    
                  const confettiCount = 150;                                                                            
                                                                                                                        
                  for (let i = 0; i < confettiCount; i++) {                                                             
                      const confetti = document.createElement('div');                                                   
                      confetti.className = 'confetti';                                                                  
                      confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];               
                      confetti.style.left = Math.random() * 100 + 'vw';                                                 
                      confetti.style.top = '-10px';                                                                     
                      confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';                                  
                      confetti.style.width = (Math.random() * 8 + 5) + 'px';                                            
                      confetti.style.height = (Math.random() * 8 + 5) + 'px';                                           
                                                                                                                        
                      document.body.appendChild(confetti);                                                              
                                                                                                                        
                      const duration = Math.random() * 2000 + 2000;                                                     
                      const xEnd = (Math.random() - 0.5) * 200;                                                         
                      const rotation = Math.random() * 720;                                                             
                                                                                                                        
                      confetti.animate([                                                                                
                          {                                                                                             
                              transform: 'translateY(0) translateX(0) rotate(0deg)',                                    
                              opacity: 1                                                                                
                          },                                                                                            
                          {                                                                                             
                              transform: `translateY(100vh) translateX(${xEnd}px) rotate(${rotation}deg)`,              
                              opacity: 0.7                                                                              
                          }                                                                                             
                      ], {                                                                                              
                          duration: duration,                                                                           
                          easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)'                                                
                      }).onfinish = () => confetti.remove();                                                            
                  }                                                                                                     
              }                                                                                                         
                                                                                                                        
              btnYes.addEventListener('click', () => {                                                                  
                  askScreen.classList.remove('active');                                                                 
                  successScreen.classList.add('active');                                                                
                                                                                                                        
                  const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;           
                  if (!prefersReducedMotion) {                                                                          
                      createConfetti();                                                                                 
                  }                                                                                                     
              });                                                                                                       
                                                                                                                        
              window.addEventListener('load', () => {                                                                   
                  setTimeout(initNoPosition, 100);                                                                      
              });                                                                                                       
                                                                                                                        
              window.addEventListener('resize', () => {                                                                 
                  if (isInitialized) {                                                                                  
                      initNoPosition();                                                                                 
                      positionHistory = [];                                                                             
                  }                                                                                                     
              });                                                                                                       
          })();                                                                                                         
      </script>                                                                                                         
  </body>                                                                                                               
  </html>
